<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kriti - Dashboard</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="dashboard.css">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <!-- Top Navigation -->
    <nav class="top-nav fade-up">
        <a href="index.html" class="nav-brand">
            <span
                style="display:inline-flex;align-items:center;justify-content:center;background:var(--sage);border-radius:50%;width:24px;height:24px;margin-right:6px;vertical-align:middle;">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="white">
                    <path
                        d="M17 8C8 10 5.9 16.17 3.82 21.34L5.71 22l1-2.3A4.49 4.49 0 008 20C19 20 22 3 22 3c-1 2-8 2-8 2z" />
                </svg>
            </span>
            Kriti
        </a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="garden.html">Garden</a>
            <a href="dashboard.html" class="active">Dashboard</a>
        </div>
        <div class="nav-actions" style="display:flex;align-items:center;gap:20px;">
            <a href="profile.html" aria-label="Profile" style="color:var(--text-mid);"><i data-lucide="user"></i></a>
            <a href="auth.html" class="nav-logout">Logout</a>
        </div>
    </nav>

    <div class="page-wrap">
        <!-- Background Mandalas -->
        <img src="assets/mandala_pattern.png" class="m-tl" alt="Decorative Mandala">
        <img src="assets/mandala_pattern.png" class="m-br" alt="Decorative Mandala">

        <div class="dashboard-container">

            <!-- LEFT COLUMN -->
            <div class="col-left">
                <!-- 1. Today's Alignment Card -->
                <div class="card alignment-card fade-up" style="animation-delay: 0.1s;">
                    <h2 class="card-title">Today‚Äôs Alignment <i data-lucide="leaf" class="title-ico"></i></h2>

                    <div class="align-details">
                        <div class="detail-row">
                            <span class="detail-label">Focus:</span>
                            <span class="detail-val">Career</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Effort Logged:</span>
                            <span class="detail-val">2 DSA questions solved</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Awareness:</span>
                            <span class="detail-val">Revision nahi ki</span>
                        </div>
                    </div>

                    <div class="ai-reflection">
                        <p>‚ÄúYou showed up for your future. Effort grows roots.‚Äù</p>
                    </div>

                    <div class="badge-wrap">
                        <span class="soft-badge"><i data-lucide="trending-up"></i> Compared to Yesterday: +1
                            Effort</span>
                    </div>

                    <div class="consistency-row">
                        <div class="cp-val" id="cp-display">Consistency Points: <span>0</span></div>
                        <div class="cp-help">These grow when you log your effort regularly.</div>
                    </div>
                </div>

                <!-- 4. Self vs Self Graph -->
                <div class="card graph-card fade-up" style="animation-delay: 0.3s;">
                    <h3 class="card-subtitle">Your Progress With Yourself</h3>
                    <div class="graph-box">
                        <svg class="line-graph" viewBox="0 0 400 120" preserveAspectRatio="none">
                            <defs>
                                <linearGradient id="line-grad" x1="0" y1="0" x2="0" y2="1">
                                    <stop offset="0%" stop-color="rgba(106, 143, 106, 0.4)" />
                                    <stop offset="100%" stop-color="rgba(106, 143, 106, 0)" />
                                </linearGradient>
                            </defs>
                            <path class="graph-area" id="graph-area"
                                d="M0,120 L0,100 Q100,110 200,80 T400,30 L400,120 Z" fill="url(#line-grad)" />
                            <path class="graph-line" id="graph-line" d="M0,100 Q100,110 200,80 T400,30" fill="none"
                                stroke="var(--sage-deep)" stroke-width="3" stroke-linecap="round" />
                        </svg>
                        <div class="graph-labels">
                            <span>Past</span>
                            <span>Today</span>
                        </div>
                    </div>
                </div>

            </div>

            <!-- CENTER COLUMN -->
            <div class="col-center">
                <!-- 2. Growth Garden Visualization -->
                <div class="card garden-card fade-up" style="animation-delay: 0.2s;">
                    <div class="garden-header">
                        <h2 class="card-title">View My Growth</h2>
                        <div class="garden-toggles">
                            <button class="g-toggle active" data-range="today">Today</button>
                            <button class="g-toggle" data-range="yesterday">Yesterday</button>
                            <button class="g-toggle" data-range="week">Last Week</button>
                            <button class="g-toggle" data-range="month">Last Month</button>
                        </div>
                    </div>

                    <div class="garden-stage" style="justify-content:center; padding: 20px;">
                        <div class="garden-hotspot-wrap">
                            <img src="assets/garden_courtyard.png" id="garden-illustration" alt="Garden Courtyard"
                                style="width:100%; height:auto; border-radius:12px; transition: opacity 0.5s ease; filter: brightness(1.15) saturate(1.1);" />
                            <div class="hotspot tooltip-below" style="top:5%; left:20%; width:40%; height:45%;"
                                data-symbol="üå≥ Banyan Tree ‚Äî Career" data-meaning="Karma, longevity, responsibility">
                            </div>
                            <div class="hotspot" style="bottom:15%; left:8%; width:25%; height:30%;"
                                data-symbol="ü™∑ Lotus Pond ‚Äî Mind" data-meaning="Clarity, resilience, inner peace">
                            </div>
                            <div class="hotspot" style="bottom:10%; right:8%; width:22%; height:28%;"
                                data-symbol="üåø Tulsi Plant ‚Äî Health" data-meaning="Healing, vitality, daily care">
                            </div>
                            <div class="hotspot" style="bottom:25%; left:38%; width:18%; height:22%;"
                                data-symbol="ü™î Courtyard Lamp ‚Äî Family"
                                data-meaning="Warmth, togetherness, guiding light"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT COLUMN -->
            <div class="col-right">
                <!-- 3. Wisdom Panel -->
                <div class="card wisdom-card fade-up" style="animation-delay: 0.4s;">
                    <div class="wisdom-divider"></div>
                    <h3 class="card-subtitle">Today‚Äôs Wisdom ü™∑</h3>
                    <p class="quote">‚ÄúKarmanye vadhikaraste ma phaleshu kadachana.‚Äù</p>
                    <p class="quote-cap">Focus on effort. Results will follow.</p>
                </div>

                <!-- Extra space filler / future card -->
            </div>

        </div>
        <!-- Gentle Intervention Modal (Hidden by default) -->
        <div class="modal-overlay hidden" id="support-modal">
            <div class="modal-card fade-up">
                <div class="modal-header">
                    <h3><i data-lucide="heart" style="color:var(--peach);"></i> A moment of pause</h3>
                    <button class="close-btn" id="close-support"><i data-lucide="x"></i></button>
                </div>
                <div class="modal-body" style="text-align: left;">
                    <p class="modal-text" style="font-size: 1.1rem; color: var(--text-dark);">It's completely okay to
                        feel drained or overwhelmed. Growth isn't linear.</p>
                    <p class="modal-text">If you're up for it, here are two small things that might help shift the
                        energy right now. No pressure.</p>

                    <div class="task-list" style="margin: 20px 0; display:flex; flex-direction:column; gap:12px;">
                        <label class="support-task">
                            <input type="checkbox" onchange="completeSupportTask(this)">
                            <span>Take a 10-minute walk outside without your phone.</span>
                        </label>
                        <label class="support-task">
                            <input type="checkbox" onchange="completeSupportTask(this)">
                            <span>Message a friend or family member just to say hi.</span>
                        </label>
                    </div>

                    <div class="therapist-link"
                        style="margin-top:24px; padding-top:16px; border-top:1px solid rgba(138,171,138,0.2);">
                        <p style="font-size: 0.9rem; color: var(--text-mid); line-height:1.4;">
                            If things feel entirely too heavy to carry alone, it can really help to share the load.
                            <a href="#" style="color:var(--sage-deep); text-decoration:underline;">Explore speaking with
                                a professional</a>.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. Floating Action Button Link -->
        <a href="reflection.html" class="fab fade-up" style="animation-delay: 0.8s; text-decoration:none;">
            <i data-lucide="message-circle"></i> Reflect on Today
        </a>

        <script src="dashboard.js"></script>
</body>

</html>